<!DOCTYPE html>
<html lang="zh-CN">
<head>
<script>
(function() {
  // ä»URLè·å–expireå‚æ•°ï¼ˆä¾‹å¦‚ ?expire=1740506400ï¼‰
  const urlParams = new URLSearchParams(window.location.search);
  const expire = urlParams.get('expire');

  // å¦‚æœæ²¡æœ‰expireå‚æ•°ï¼Œç›´æ¥æ˜¾ç¤ºé”™è¯¯å¹¶åœæ­¢
  if (!expire) {
    document.body.innerHTML = '<div style="text-align:center; margin-top:50px; font-family: sans-serif; color:#9f7aea; font-size:20px;">ğŸ”’ æ— æ•ˆçš„è®¿é—®é“¾æ¥</div>';
    throw new Error('ç¼ºå°‘è¿‡æœŸå‚æ•°');
  }

  const now = Math.floor(Date.now() / 1000);
  const expireTime = parseInt(expire, 10);

  if (isNaN(expireTime) || expireTime <= 0) {
    document.body.innerHTML = '<div style="text-align:center; margin-top:50px; font-family: sans-serif; color:#9f7aea; font-size:20px;">âš ï¸ é“¾æ¥æ ¼å¼é”™è¯¯</div>';
    throw new Error('è¿‡æœŸå‚æ•°æ ¼å¼é”™è¯¯');
  }

  if (now > expireTime) {
    document.body.innerHTML = '<div style="text-align:center; margin-top:50px; font-family: sans-serif; color:#9f7aea; font-size:20px;">â³ æ­¤é“¾æ¥å·²è¿‡æœŸï¼Œè¯·é‡æ–°è´­ä¹°</div>';
    throw new Error('é“¾æ¥å·²è¿‡æœŸ');
  }

  const remaining = expireTime - now;
  const remainingMinutes = Math.floor(remaining / 60);
  const remainingSeconds = remaining % 60;

  const timerDiv = document.createElement('div');
  timerDiv.style.position = 'sticky';
  timerDiv.style.top = '0';
  timerDiv.style.backgroundColor = '#f3e8ff';
  timerDiv.style.color = '#6b4e8f';
  timerDiv.style.padding = '10px';
  timerDiv.style.textAlign = 'center';
  timerDiv.style.fontSize = '14px';
  timerDiv.style.borderBottom = '2px solid #d0b2f0';
  timerDiv.style.zIndex = '1000';
  timerDiv.innerHTML = `â° æœ¬é“¾æ¥å‰©ä½™æœ‰æ•ˆæ—¶é—´ï¼š${remainingMinutes}åˆ†${remainingSeconds}ç§’ï¼ˆè¿‡æœŸåé“¾æ¥å°†è‡ªåŠ¨å¤±æ•ˆï¼‰`;

  document.body.prepend(timerDiv);
})();
</script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ‹çˆ±å æœ‰æ¬²æŒ‡æ•°è¯„ä¼°</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    body {
      background-color: #fff;
      color: #333;
      line-height: 1.6;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid #e9d5ff;
      margin-bottom: 24px;
    }
    .header-left {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .header-left .icon {
      color: #666;
      font-size: 18px;
    }
    .header-right .btn-back {
      border: 1px solid #d0b2f0;
      background: #fff;
      color: #666;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
    }
    .page {
      display: none;
    }
    .page.active {
      display: block;
    }
    .page-title {
      text-align: center;
      color: #9f7aea;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 8px;
    }
    .page-subtitle {
      text-align: center;
      color: #666;
      font-size: 14px;
      margin-bottom: 24px;
    }
    .card {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
      padding: 20px;
      margin-bottom: 20px;
    }
    .section-title {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 18px;
      font-weight: 600;
      color: #333;
      margin-bottom: 16px;
    }
    .section-title .icon {
      color: #9f7aea;
    }
    .consent-item {
      margin-bottom: 20px;
    }
    .consent-item h4 {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 16px;
      color: #333;
      margin-bottom: 8px;
    }
    .consent-item p {
      font-size: 14px;
      color: #666;
      margin-left: 26px;
      margin-bottom: 12px;
    }
    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-left: 26px;
      font-size: 14px;
      color: #333;
    }
    .checkbox-item input {
      width: 16px;
      height: 16px;
      accent-color: #9f7aea;
    }
    .warning-box {
      background: #f9f2ff;
      border-left: 4px solid #9f7aea;
      padding: 12px 16px;
      margin: 16px 0;
      font-size: 13px;
      color: #666;
    }
    .btn-group {
      display: flex;
      gap: 12px;
      margin-top: 24px;
    }
    .btn {
      flex: 1;
      padding: 10px 20px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      border: none;
      white-space: nowrap;
      text-align: center;
    }
    .btn-secondary {
      background: #fff;
      color: #666;
      border: 1px solid #ddd;
    }
    .btn-primary {
      background: #9f7aea;
      color: #fff;
    }
    .progress-bar {
      height: 4px;
      background: #f0e6e9;
      border-radius: 2px;
      margin-bottom: 24px;
    }
    .progress-bar .fill {
      height: 100%;
      background: #9f7aea;
      border-radius: 2px;
    }
    .form-group {
      margin-bottom: 24px;
    }
    .form-group label {
      display: block;
      font-weight: 500;
      margin-bottom: 12px;
      color: #333;
    }
    .radio-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .radio-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 0;
      font-size: 14px;
      color: #666;
    }
    .radio-item input {
      width: 16px;
      height: 16px;
      accent-color: #9f7aea;
    }
    .optional-tag {
      font-size: 12px;
      color: #999;
      margin-left: 8px;
    }
    .questionnaire-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      font-size: 14px;
      color: #666;
    }
    .questionnaire-progress {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
    }
    .progress-block {
      flex: 1;
      padding: 12px;
      border-radius: 4px;
      text-align: center;
      font-size: 14px;
    }
    .progress-block.answered {
      background: #e8f5e9;
      color: #2e7d32;
    }
    .progress-block.unanswered {
      background: #fff8e1;
      color: #f57c00;
    }
    .progress-block.required {
      background: #ffebee;
      color: #c62828;
    }
    .question-item {
      background: #f9f2ff;
      border: 1px solid #e9d5ff;
      border-radius: 6px;
      padding: 16px 24px;
      margin-bottom: 16px;
    }
    .question-header {
      display: flex;
      align-items: baseline;
      gap: 4px;
      margin-bottom: 12px;
    }
    .question-text {
      font-size: 16px; /* é¢˜ç›®å­—å·è°ƒå¤§ */
      color: #333;
    }
    .question-options {
      display: flex;
      gap: 8px;
      margin-top: 12px;
      flex-wrap: nowrap;
      justify-content: flex-start;
    }
    .question-option {
      flex: 0 1 auto;
      min-width: 0;
      display: flex;                /* ä½¿ç”¨flexå®ç°å®Œç¾å±…ä¸­ */
      align-items: center;
      justify-content: center;
      padding: 6px 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: clamp(8px, 2.5vw, 14px);
      color: #666;
      cursor: pointer;
      white-space: nowrap;
    }
    .question-option.selected {
      border-color: #9f7aea;
      background: #f9f2ff;
      color: #9f7aea;
    }
    .required-hint {
      font-size: 12px;
      color: #9f7aea;
      margin-top: 8px;
    }
    .result-header {
      text-align: center;
      margin-bottom: 24px;
    }
    .result-icon {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: #f9f2ff;
      color: #9f7aea;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin: 0 auto 12px;
    }
    .rpi-score {
      font-size: 48px;
      font-weight: 700;
      color: #9f7aea;
      margin: 8px 0;
    }
    .rpi-level {
      font-size: 16px;
      color: #9f7aea;
      font-weight: 500;
    }
    .rpi-bar-container {
      height: 8px;
      background: #f0e6e9;
      border-radius: 4px;
      margin: 16px 0;
      position: relative;
    }
    .rpi-bar-fill {
      height: 100%;
      background: #9f7aea;
      border-radius: 4px;
      width: 0%;
    }
    .rpi-labels {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: #999;
    }
    .result-section {
      margin-bottom: 24px;
    }
    .result-section h3 {
      font-size: 16px;
      color: #333;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .dimension-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .dimension-name {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      color: #333;
      width: 100px;
    }
    .dimension-bar-container {
      flex: 1;
      height: 6px;
      background: #f0e6e9;
      border-radius: 3px;
      margin: 0 12px;
    }
    .dimension-bar-fill {
      height: 100%;
      background: #9f7aea;
      border-radius: 3px;
      width: 0%;
    }
    .dimension-value {
      font-size: 14px;
      color: #666;
      min-width: 60px;
      text-align: right;
    }
    .dimension-desc {
      font-size: 12px;
      color: #999;
      margin-bottom: 16px;
      padding-left: 100px;
    }
    .radar-container {
      display: flex;
      justify-content: space-around;
      margin: 24px 0;
      flex-wrap: wrap;
    }
    .radar-card {
      text-align: center;
      margin-bottom: 20px;
    }
    .radar-title {
      font-size: 14px;
      color: #666;
      margin-bottom: 12px;
    }
    .radar-canvas {
      width: 250px;
      height: 250px;
      display: block;
      margin: 0 auto;
      background: #fafafa;
      border-radius: 8px;
    }
    .personality-card {
      text-align: center;
      padding: 24px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
      margin-bottom: 24px;
    }
    .personality-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #f9f2ff;
      color: #9f7aea;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      margin: 0 auto 16px;
      border: 2px solid #9f7aea;
    }
    .personality-title {
      font-size: 24px;
      font-weight: 700;
      color: #9f7aea;
      margin-bottom: 8px;
    }
    .personality-subtitle {
      font-size: 14px;
      color: #666;
      margin-bottom: 20px;
    }
    .two-col-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 20px;
      text-align: left;
    }
    .feature-list {
      list-style: none;
    }
    .feature-list li {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      font-size: 14px;
      color: #333;
      margin-bottom: 8px;
    }
    .feature-list li::before {
      content: "â€¢";
      color: #9f7aea;
      font-weight: 700;
    }
    .pro-list li::before {
      color: #2e7d32;
    }
    .con-list li::before {
      color: #f57c00;
    }
    .expert-card {
      background: #fafafa;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 16px;
      text-align: left;
    }
    .expert-card h4 {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 16px;
      color: #333;
      margin-bottom: 12px;
    }
    .expert-card p {
      font-size: 14px;
      color: #666;
      line-height: 1.6;
    }
    .resource-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin: 16px 0;
    }
    .resource-card {
      background: #fff;
      border: 1px solid #f0e6e9;
      border-radius: 6px;
      padding: 12px;
      font-size: 13px;
      color: #666;
    }
    .resource-card h5 {
      color: #333;
      margin-bottom: 8px;
      font-size: 14px;
    }
    .zodiac-card {
      background: #f9f2ff;
      border-radius: 8px;
      padding: 16px;
      margin: 16px 0;
      text-align: left;
    }
    .zodiac-tags {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
      flex-wrap: wrap;
    }
    .zodiac-tag {
      background: #fff;
      color: #9f7aea;
      border: 1px solid #9f7aea;
      border-radius: 12px;
      padding: 4px 8px;
      font-size: 12px;
    }
    .footer-info {
      font-size: 12px;
      color: #999;
      margin-top: 24px;
      padding-top: 16px;
      border-top: 1px solid #f0e6e9;
    }
    .path-matrix {
      display: flex;
      justify-content: space-around;
      margin: 20px 0;
      padding: 10px;
      background: #fafafa;
      border-radius: 8px;
    }
    .path-col {
      text-align: center;
      flex: 1;
    }
    .path-col h5 {
      color: #333;
      margin-bottom: 10px;
      font-size: 13px;
    }
    .path-item {
      margin: 8px 0;
      font-size: 12px;
      color: #666;
      padding: 4px;
      border-radius: 4px;
      transition: background 0.2s;
    }
    .path-item.high {
      background: #ffcdd2;
      font-weight: 500;
    }
    .path-item.medium {
      background: #fff9c4;
    }
    .path-item.low {
      background: #e1f5fe;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="header-left">
        <span class="icon">ğŸ </span>
      </div>
      <div class="header-right">
        <button class="btn-back" onclick="goBack()">â† è¿”å›</button>
      </div>
    </header>

    <!-- çŸ¥æƒ…åŒæ„ä¹¦é¡µ -->
    <div id="page-consent" class="page active">
      <h1 class="page-title">æ‹çˆ±å æœ‰æ¬²æŒ‡æ•°è¯„ä¼°</h1>
      <p class="page-subtitle">åŸºäºå¿ƒç†å­¦ç ”ç©¶çš„ä¸“ä¸šæµ‹è¯„å·¥å…·</p>

      <div class="card">
        <div class="section-title">
          <span class="icon">ğŸ“œ</span>
          <span>çŸ¥æƒ…åŒæ„ä¹¦</span>
        </div>

        <div class="consent-item">
          <h4><span class="icon">ğŸ‘ï¸</span> è¯„ä¼°ç›®çš„</h4>
          <p>æœ¬è¯„ä¼°æ—¨åœ¨å¸®åŠ©æ‚¨äº†è§£è‡ªå·±æˆ–æ‹äººåœ¨æ‹çˆ±å…³ç³»ä¸­çš„å æœ‰æ¬²ç‰¹å¾ï¼ŒåŒ…æ‹¬æ§åˆ¶æ¬²æœ›ã€å«‰å¦’å¼ºåº¦ã€æƒ…æ„Ÿä¾èµ–å’Œå…³ç³»ä¸å®‰å…¨æ„Ÿç­‰æ–¹é¢ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºäºå¿ƒç†å­¦ç ”ç©¶çš„è‡ªæˆ‘æ¢ç´¢å·¥å…·ï¼Œå¯ä»¥ä¿ƒè¿›æ‚¨å¯¹äº²å¯†å…³ç³»åŠ¨æ€çš„è®¤çŸ¥å’Œç†è§£ï¼Œå¸®åŠ©å»ºç«‹æ›´å¥åº·å’Œè°çš„æ‹çˆ±å…³ç³»ã€‚</p>
          <div class="checkbox-item">
            <input type="checkbox" id="consent-purpose">
            <label for="consent-purpose">æˆ‘ç†è§£æœ¬è¯„ä¼°çš„ç›®çš„æ˜¯å¸®åŠ©æˆ‘äº†è§£æ‹çˆ±å…³ç³»ä¸­çš„å æœ‰æ¬²ç‰¹å¾</label>
          </div>
        </div>

        <div class="consent-item">
          <h4><span class="icon">ğŸ›¡ï¸</span> éšç§ä¿æŠ¤</h4>
          <p>æ‚¨çš„æ‰€æœ‰å›ç­”å°†å®Œå…¨åŒ¿ååŒ–å¤„ç†ï¼Œä»…ä¿å­˜åœ¨æ‚¨çš„è®¾å¤‡æœ¬åœ°ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚æˆ‘ä»¬ä¸æ”¶é›†ä»»ä½•å¯è¯†åˆ«ä¸ªäººèº«ä»½çš„ä¿¡æ¯ã€‚æ‚¨å¯ä»¥éšæ—¶åˆ é™¤æœ¬åœ°ä¿å­˜çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å¯¼å‡ºæ•°æ®ç”¨äºä¸ªäººè®°å½•ã€‚æ‚¨çš„éšç§å’Œæ•°æ®å®‰å…¨æ˜¯æˆ‘ä»¬çš„é¦–è¦å…³æ³¨ã€‚</p>
          <div class="checkbox-item">
            <input type="checkbox" id="consent-privacy">
            <label for="consent-privacy">æˆ‘ç†è§£æˆ‘çš„æ•°æ®å°†è¢«åŒ¿ååŒ–å¤„ç†å¹¶ä»…ä¿å­˜åœ¨æœ¬åœ°è®¾å¤‡ä¸Š</label>
          </div>
        </div>

        <div class="consent-item">
          <h4><span class="icon">ğŸ‘¥</span> è‡ªæ„¿å‚ä¸</h4>
          <p>å‚ä¸æœ¬è¯„ä¼°å®Œå…¨åŸºäºè‡ªæ„¿åŸåˆ™ã€‚æ‚¨å¯ä»¥åœ¨ä»»ä½•æ—¶å€™é€€å‡ºè¯„ä¼°ï¼Œæ— éœ€è¯´æ˜ç†ç”±ã€‚å¯¹äºä»»ä½•è®©æ‚¨æ„Ÿåˆ°ä¸é€‚çš„é—®é¢˜ï¼Œæ‚¨éƒ½å¯ä»¥é€‰æ‹©è·³è¿‡ã€‚è¯„ä¼°è¿‡ç¨‹ä¸­å¦‚æœæ‚¨æ„Ÿåˆ°ä¸é€‚ï¼Œè¯·ç«‹å³åœæ­¢å¹¶å¯»æ±‚ä¸“ä¸šå¿ƒç†å¥åº·æœåŠ¡çš„å¸®åŠ©ã€‚</p>
          <div class="checkbox-item">
            <input type="checkbox" id="consent-voluntary">
            <label for="consent-voluntary">æˆ‘ç†è§£å‚ä¸æ˜¯è‡ªæ„¿çš„ï¼Œå¯ä»¥éšæ—¶é€€å‡ºè¯„ä¼°</label>
          </div>
        </div>

        <div class="consent-item">
          <h4><span class="icon">âš ï¸</span> éè¯Šæ–­æ€§è´¨</h4>
          <p>æœ¬è¯„ä¼°ç»“æœä»…ä¾›è‡ªæˆ‘äº†è§£å’Œå…³ç³»åæ€ä½¿ç”¨ï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šçš„å¿ƒç†å’¨è¯¢æˆ–æƒ…æ„Ÿå’¨è¯¢ã€‚å¦‚æœæ‚¨åœ¨æ‹çˆ±å…³ç³»ä¸­é‡åˆ°ä¸¥é‡é—®é¢˜ï¼ˆå¦‚å®¶åº­æš´åŠ›ã€ä¸¥é‡æ§åˆ¶ç­‰ï¼‰ï¼Œå»ºè®®ç«‹å³å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚è¯„ä¼°ç»“æœä¸åº”è¢«ç”¨äºæŒ‡è´£ä¼´ä¾£æˆ–åšå‡ºé‡å¤§å…³ç³»å†³ç­–ã€‚</p>
          <div class="checkbox-item">
            <input type="checkbox" id="consent-non-diagnostic">
            <label for="consent-non-diagnostic">æˆ‘ç†è§£è¿™ä¸æ˜¯è¯Šæ–­å·¥å…·ï¼Œå¦‚æœ‰ä¸¥é‡å…³ç³»é—®é¢˜ä¼šå¯»æ±‚ä¸“ä¸šå¸®åŠ©</label>
          </div>
        </div>

        <div class="warning-box">
          <span class="icon">âš ï¸</span> é‡è¦æé†’ï¼šå¦‚æœæ‚¨ç›®å‰æ­£åœ¨ç»å†ä¸¥é‡çš„å…³ç³»æš´åŠ›ã€æç«¯æ§åˆ¶ã€æˆ–æœ‰è‡ªä¼¤/ä¼¤äººå€¾å‘ï¼Œè¯·ç«‹å³å¯»æ±‚ä¸“ä¸šå¸®åŠ©ï¼ˆæŠ¥è­¦æˆ–è”ç³»å®¶æš´çƒ­çº¿ï¼‰ã€‚æœ¬è¯„ä¼°ä¸é€‚åˆå¤„äºå±é™©å…³ç³»æˆ–æ€¥æ€§å¿ƒç†å±æœºçŠ¶æ€çš„äººç¾¤ã€‚
        </div>

        <div class="btn-group">
          <button class="btn btn-secondary" onclick="window.location.reload()">æˆ‘ä¸åŒæ„</button>
          <button class="btn btn-primary" onclick="checkConsentAndProceed()">æˆ‘åŒæ„å¹¶å¼€å§‹è¯„ä¼°</button>
        </div>

        <div style="font-size: 12px; color: #999; text-align: center; margin-top: 24px;">
          æœ¬å·¥å…·åŸºäºå¿ƒç†å­¦ç ”ç©¶å¼€å‘ï¼Œå‚è€ƒä¾æ‹ç†è®ºã€æµªæ¼«å«‰å¦’ç ”ç©¶ã€å…±ä¾èµ–ç†è®ºç­‰ç»å…¸ç†è®ºï¼Œé‡‡ç”¨æ ‡å‡†åŒ–çš„æå…‹ç‰¹é‡è¡¨å’Œé¢‘ç‡é‡è¡¨è¿›è¡Œæµ‹é‡ã€‚
        </div>
      </div>
    </div>

    <!-- åŸºæœ¬ä¿¡æ¯é¡µ -->
    <div id="page-basic" class="page">
      <div class="progress-bar">
        <div class="fill" style="width: 50%"></div>
      </div>
      <h1 class="page-title">åŸºæœ¬ä¿¡æ¯</h1>
      <p class="page-subtitle">è¯·æä¾›ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œè¿™å°†å¸®åŠ©æˆ‘ä»¬æä¾›æ›´å‡†ç¡®çš„ç»“æœåˆ†æ</p>

      <div class="card">
        <div class="section-title">
          <span class="icon">ğŸ‘¥</span>
          <span>äººå£å­¦ä¿¡æ¯</span>
        </div>

        <div class="form-group">
          <label>æ‚¨çš„å¹´é¾„æ®µ *</label>
          <div class="radio-group">
            <div class="radio-item"><input type="radio" name="age" value="under18"> 18å²ä»¥ä¸‹</div>
            <div class="radio-item"><input type="radio" name="age" value="18-24"> 18-24å²</div>
            <div class="radio-item"><input type="radio" name="age" value="25-29"> 25-29å²</div>
            <div class="radio-item"><input type="radio" name="age" value="30-34"> 30-34å²</div>
            <div class="radio-item"><input type="radio" name="age" value="35-39"> 35-39å²</div>
            <div class="radio-item"><input type="radio" name="age" value="over40"> 40å²ä»¥ä¸Š</div>
          </div>
        </div>

        <div class="form-group">
          <label>æ‚¨çš„æ€§åˆ« *</label>
          <div class="radio-group">
            <div class="radio-item"><input type="radio" name="gender" value="male"> ç”·æ€§</div>
            <div class="radio-item"><input type="radio" name="gender" value="female"> å¥³æ€§</div>
            <div class="radio-item"><input type="radio" name="gender" value="other"> å…¶ä»–</div>
            <div class="radio-item"><input type="radio" name="gender" value="prefer-not"> ä¸æ„¿é€éœ²</div>
          </div>
        </div>

        <div class="form-group">
          <label>æ‚¨çš„æ˜Ÿåº§ <span class="optional-tag">(å¯é€‰)</span></label>
          <div class="radio-group">
            <div class="radio-item"><input type="radio" name="zodiac" value="aries"> ç™½ç¾Šåº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="taurus"> é‡‘ç‰›åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="gemini"> åŒå­åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="cancer"> å·¨èŸ¹åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="leo"> ç‹®å­åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="virgo"> å¤„å¥³åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="libra"> å¤©ç§¤åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="scorpio" checked> å¤©èåº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="sagittarius"> å°„æ‰‹åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="capricorn"> æ‘©ç¾¯åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="aquarius"> æ°´ç“¶åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="pisces"> åŒé±¼åº§</div>
            <div class="radio-item"><input type="radio" name="zodiac" value="unknown"> ä¸æ¸…æ¥š/ä¸æ„¿é€éœ²</div>
          </div>
        </div>

        <div class="form-group">
          <label>æ‚¨ç›®å‰çš„æ‹çˆ±çŠ¶æ€ *</label>
          <div class="radio-group">
            <div class="radio-item"><input type="radio" name="relationship-status" value="single-never"> å•èº«ï¼ˆä»æœªæ‹çˆ±ï¼‰</div>
            <div class="radio-item"><input type="radio" name="relationship-status" value="single-past"> å•èº«ï¼ˆæ›¾ç»æ‹çˆ±è¿‡ï¼‰</div>
            <div class="radio-item"><input type="radio" name="relationship-status" value="dating"> çƒ­æ‹æœŸ</div>
            <div class="radio-item"><input type="radio" name="relationship-status" value="stable"> ç¨³å®šæœŸ</div>
            <div class="radio-item"><input type="radio" name="relationship-status" value="stable"> å¹³æ·¡æœŸ</div>
            <div class="radio-item"><input type="radio" name="relationship-status" value="cold-war"> å†·æˆ˜æœŸ</div>
            <div class="radio-item"><input type="radio" name="relationship-status" value="married"> å·²å©š/è®¢å©š</div>
            <div class="radio-item"><input type="radio" name="relationship-status" value="long-distance"> å¼‚åœ°æ‹</div>
          </div>
        </div>

        <div class="form-group">
          <label>å½“å‰/æœ€è¿‘ä¸€æ®µæ‹çˆ±çš„æŒç»­æ—¶é—´ <span class="optional-tag">(å¯é€‰)</span></label>
          <div class="radio-group">
            <div class="radio-item"><input type="radio" name="relationship-duration" value="never"> ä»æœªæ‹çˆ±</div>
            <div class="radio-item"><input type="radio" name="relationship-duration" value="less-3m"> å°‘äº3ä¸ªæœˆ</div>
            <div class="radio-item"><input type="radio" name="relationship-duration" value="3-6m"> 3-6ä¸ªæœˆ</div>
            <div class="radio-item"><input type="radio" name="relationship-duration" value="6m-1y"> 6ä¸ªæœˆ-1å¹´</div>
            <div class="radio-item"><input type="radio" name="relationship-duration" value="1-2y"> 1-2å¹´</div>
            <div class="radio-item"><input type="radio" name="relationship-duration" value="2-3y"> 2-3å¹´</div>
            <div class="radio-item"><input type="radio" name="relationship-duration" value="over-3y"> 3å¹´ä»¥ä¸Š</div>
          </div>
        </div>

        <div style="font-size: 12px; color: #999; margin: 16px 0;">
          éšç§ä¿æŠ¤ï¼šä»¥ä¸Šä¿¡æ¯ä»…ç”¨äºæä¾›ä¸ªæ€§åŒ–çš„ç»“æœåˆ†æï¼Œæ‰€æœ‰æ•°æ®å‡åœ¨æ‚¨çš„è®¾å¤‡æœ¬åœ°å¤„ç†ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚æ‚¨å¯ä»¥éšæ—¶åˆ é™¤è¿™äº›æ•°æ®ã€‚
        </div>

        <div class="btn-group">
          <button class="btn btn-secondary" onclick="prevPage('page-consent')">â† è¿”å›</button>
          <button class="btn btn-primary" onclick="validateBasicInfo()">ç»§ç»­è¯„ä¼° â†’</button>
        </div>
      </div>
    </div>

    <!-- é—®å·é¡µ -->
    <div id="page-questions" class="page">
      <div class="progress-bar">
        <div class="fill" style="width: 0%" id="questions-progress-fill"></div>
      </div>

      <div class="questionnaire-header">
        <span>é—®å·è¯„ä¼°è¿›åº¦</span>
        <span id="questions-completed">0 / 40 å·²å®Œæˆ</span>
      </div>

      <div class="questionnaire-progress">
        <div class="progress-block answered">
          <div style="font-size: 20px; font-weight: 700; color: #2e7d32;" id="stats-answered">0</div>
          <div>å·²å›ç­”</div>
        </div>
        <div class="progress-block unanswered">
          <div style="font-size: 20px; font-weight: 700; color: #f57c00;" id="stats-unanswered">40</div>
          <div>æœªå›ç­”</div>
        </div>
        <div class="progress-block required">
          <div style="font-size: 20px; font-weight: 700; color: #c62828;" id="stats-required">40</div>
          <div>å¿…ç­”æœªå®Œæˆ</div>
        </div>
      </div>

      <div class="card" id="questions-container">
        <!-- é¢˜ç›®å°†ç”±JSåŠ¨æ€ç”Ÿæˆ -->
      </div>

      <div class="btn-group">
        <button class="btn btn-secondary" onclick="prevPage('page-basic')">â† è¿”å›</button>
        <button class="btn btn-primary" onclick="submitQuestions()">æäº¤è¯„ä¼° â†’</button>
      </div>
    </div>

    <!-- ç»“æœé¡µ -->
    <div id="page-result" class="page">
      <!-- ç»“æœå°†ç”±JSåŠ¨æ€ç”Ÿæˆ -->
    </div>
  </div>

  <script>
    // ---------- é¢˜ç›®æ•°æ® ----------
    const questions = [
      // æ§åˆ¶æ¬²æœ› 1-10
      { dim: 'C', text: 'æˆ‘ç»å¸¸æƒ³çŸ¥é“ä¼´ä¾£åœ¨åšä»€ä¹ˆ', type: 'degree' },
      { dim: 'C', text: 'æˆ‘å¸Œæœ›ä¼´ä¾£æŠŠå¤§éƒ¨åˆ†ç©ºé—²æ—¶é—´éƒ½èŠ±åœ¨æˆ‘èº«ä¸Š', type: 'degree' },
      { dim: 'C', text: 'æˆ‘ä¸å–œæ¬¢ä¼´ä¾£å’Œå…¶ä»–å¼‚æ€§å•ç‹¬ç›¸å¤„', type: 'degree' },
      { dim: 'C', text: 'æˆ‘ä¼šæŸ¥çœ‹ä¼´ä¾£çš„æ‰‹æœºæˆ–ç¤¾äº¤åª’ä½“', type: 'freq' },
      { dim: 'C', text: 'æˆ‘å¸Œæœ›äº†è§£ä¼´ä¾£æ‰€æœ‰çš„è¡Œç¨‹å®‰æ’', type: 'degree' },
      { dim: 'C', text: 'å¦‚æœä¼´ä¾£æ²¡åŠæ—¶å›å¤æˆ‘çš„æ¶ˆæ¯ï¼Œæˆ‘ä¼šæ„Ÿåˆ°ä¸å®‰', type: 'degree' },
      { dim: 'C', text: 'æˆ‘ä¼šé™åˆ¶ä¼´ä¾£ä¸æœ‹å‹å¤–å‡ºçš„é¢‘ç‡', type: 'freq' },
      { dim: 'C', text: 'æˆ‘è®¤ä¸ºä¼´ä¾£åº”è¯¥æŠŠæˆ‘æ”¾åœ¨ç¬¬ä¸€ä½', type: 'degree' },
      { dim: 'C', text: 'æˆ‘å¸Œæœ›èƒ½å¤Ÿå‚ä¸ä¼´ä¾£çš„æ‰€æœ‰å†³å®š', type: 'degree' },
      { dim: 'C', text: 'æˆ‘ä¸å–œæ¬¢ä¼´ä¾£æœ‰å¤ªå¤šç‹¬ç«‹çš„ç¤¾äº¤åœˆ', type: 'degree' },
      // å«‰å¦’å¼ºåº¦ 11-20
      { dim: 'J', text: 'å½“ä¼´ä¾£å’Œå¼‚æ€§è¯´è¯æ—¶ï¼Œæˆ‘ä¼šæ„Ÿåˆ°å«‰å¦’', type: 'freq' },
      { dim: 'J', text: 'æˆ‘æ‹…å¿ƒä¼´ä¾£ä¼šè¢«åˆ«äººå¸å¼•', type: 'degree' },
      { dim: 'J', text: 'çœ‹åˆ°ä¼´ä¾£å’Œå‰ä»»çš„ç…§ç‰‡æˆ–æ¶ˆæ¯ä¼šè®©æˆ‘ä¸èˆ’æœ', type: 'degree' },
      { dim: 'J', text: 'æˆ‘ä¼šå«‰å¦’ä¸ä¼´ä¾£åŒæ—¶çš„äººæˆ–äº‹', type: 'freq' },
      { dim: 'J', text: 'å½“ä¼´ä¾£ç§°èµå…¶ä»–äººæ—¶ï¼Œæˆ‘ä¼šæ„Ÿåˆ°ä¸å¿«', type: 'freq' },
      { dim: 'J', text: 'æˆ‘ç»å¸¸æƒ³è±¡ä¼´ä¾£å¯èƒ½å‡ºè½¨çš„åœºæ™¯', type: 'freq' },
      { dim: 'J', text: 'ä¼´ä¾£å¯¹åˆ«äººè¡¨ç°å‡ºå…´è¶£ä¼šè®©æˆ‘æ„Ÿåˆ°å¨èƒ', type: 'degree' },
      { dim: 'J', text: 'æˆ‘ä¼šå› ä¸ºå«‰å¦’è€Œè´¨é—®ä¼´ä¾£', type: 'freq' },
      { dim: 'J', text: 'ä¼´ä¾£å•ç‹¬çº¦ä¼šè®©æˆ‘æ„Ÿåˆ°ä¸å®‰', type: 'degree' },
      { dim: 'J', text: 'æˆ‘ä¼šæŠŠä¼´ä¾£ä¸åˆ«äººçš„å…³ç³»çœ‹ä½œæ˜¯å¯¹æˆ‘ä»¬å…³ç³»çš„å¨èƒ', type: 'freq' },
      // æƒ…æ„Ÿä¾èµ– 21-30
      { dim: 'Y', text: 'æ²¡æœ‰ä¼´ä¾£åœ¨èº«è¾¹æ—¶ï¼Œæˆ‘ä¼šæ„Ÿåˆ°ä¸å®Œæ•´', type: 'degree' },
      { dim: 'Y', text: 'æˆ‘çš„æƒ…ç»ªå¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºä¼´ä¾£çš„æ€åº¦', type: 'degree' },
      { dim: 'Y', text: 'æˆ‘éš¾ä»¥æƒ³è±¡æ²¡æœ‰ä¼´ä¾£çš„ç”Ÿæ´»', type: 'degree' },
      { dim: 'Y', text: 'æˆ‘éœ€è¦ç»å¸¸å¾—åˆ°ä¼´ä¾£çš„å…³æ³¨å’Œè‚¯å®š', type: 'degree' },
      { dim: 'Y', text: 'å½“ä¼´ä¾£ä¸åœ¨æ—¶ï¼Œæˆ‘ä¼šæ„Ÿåˆ°ç„¦è™‘', type: 'freq' },
      { dim: 'Y', text: 'æˆ‘å¾ˆéš¾ç‹¬ç«‹åšå‡ºé‡è¦å†³å®š', type: 'degree' },
      { dim: 'Y', text: 'ä¼´ä¾£æ˜¯æˆ‘ç”Ÿæ´»çš„ä¸­å¿ƒ', type: 'degree' },
      { dim: 'Y', text: 'å¤±å»è¿™æ®µå…³ç³»ä¼šè®©æˆ‘å´©æºƒ', type: 'degree' },
      { dim: 'Y', text: 'å½“ä¼´ä¾£å¿™äºå·¥ä½œæˆ–å­¦ä¹ æ—¶ï¼Œæˆ‘ä¼šæ„Ÿåˆ°è¢«å†·è½', type: 'degree' },
      { dim: 'Y', text: 'æˆ‘ä¼šå› ä¸ºä¼´ä¾£è€Œæ”¾å¼ƒè‡ªå·±çš„å…´è¶£çˆ±å¥½', type: 'freq' },
      // å…³ç³»ä¸å®‰å…¨æ„Ÿ 31-40
      { dim: 'G', text: 'æˆ‘æ‹…å¿ƒä¼´ä¾£ä¼šç¦»å¼€æˆ‘', type: 'freq' },
      { dim: 'G', text: 'æˆ‘è§‰å¾—è‡ªå·±ä¸å¤Ÿå¥½é…ä¸ä¸Šä¼´ä¾£', type: 'degree' },
      { dim: 'G', text: 'æˆ‘æ‹…å¿ƒä¼´ä¾£ä¼šæ‰¾åˆ°æ›´å¥½çš„äºº', type: 'freq' },
      { dim: 'G', text: 'ä¼´ä¾£çš„ä¸€ä¸ªå°å˜åŒ–å°±ä¼šè®©æˆ‘æ€€ç–‘Taçš„æ„Ÿæƒ…', type: 'degree' },
      { dim: 'G', text: 'æˆ‘éœ€è¦ä¸æ–­ç¡®è®¤ä¼´ä¾£æ˜¯å¦è¿˜çˆ±æˆ‘', type: 'freq' },
      { dim: 'G', text: 'æˆ‘å®³æ€•è¢«æŠ›å¼ƒ', type: 'degree' },
      { dim: 'G', text: 'æˆ‘å¯¹è¿™æ®µå…³ç³»çš„æœªæ¥æ„Ÿåˆ°ä¸ç¡®å®š', type: 'degree' },
      { dim: 'G', text: 'æˆ‘æ‹…å¿ƒä¼´ä¾£å¯¹æˆ‘çš„çˆ±ä¸å¦‚æˆ‘å¯¹Taçš„çˆ±', type: 'degree' },
      { dim: 'G', text: 'ä¼´ä¾£çš„å†·æ·¡ä¼šè®©æˆ‘é™·å…¥ææ…Œ', type: 'degree' },
      { dim: 'G', text: 'æˆ‘ç»å¸¸æ‹…å¿ƒè¿™æ®µå…³ç³»ä¼šçªç„¶ç»“æŸ', type: 'freq' }
    ];

    const dimensionNames = { C: 'æ§åˆ¶æ¬²æœ›', J: 'å«‰å¦’å¼ºåº¦', Y: 'æƒ…æ„Ÿä¾èµ–', G: 'å…³ç³»ä¸å®‰å…¨æ„Ÿ' };
    const degreeLabels = ['éå¸¸ä¸åŒæ„', 'ä¸åŒæ„', 'ä¸­æ€§', 'åŒæ„', 'éå¸¸åŒæ„'];
    const freqLabels = ['ä»ä¸', 'å¾ˆå°‘', 'æœ‰æ—¶', 'ç»å¸¸', 'æ€»æ˜¯'];

    // å­˜å‚¨ç­”æ¡ˆ (0-4, nullè¡¨ç¤ºæœªç­”)
    let answers = new Array(40).fill(null);
    let userInfo = {
      age: '',
      gender: '',
      zodiac: 'scorpio', // é»˜è®¤å¤©èåº§
      relationshipStatus: '',
      duration: ''
    };

    // é¡µé¢å¯¼èˆª
    function nextPage(pageId) {
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      document.getElementById(pageId).classList.add('active');
      window.scrollTo(0, 0);
      if (pageId === 'page-questions') {
        renderQuestions(); // è¿›å…¥é—®å·é¡µæ—¶æ¸²æŸ“é¢˜ç›®
        updateStats();
      }
    }
    function prevPage(pageId) {
      nextPage(pageId);
    }
    function goBack() {
      const activePage = document.querySelector('.page.active');
      if (activePage.id === 'page-consent') {
        window.history.back();
      } else if (activePage.id === 'page-basic') {
        prevPage('page-consent');
      } else if (activePage.id === 'page-questions') {
        if (confirm('è¿”å›å°†ä¸¢å¤±å½“å‰ç­”é¢˜è¿›åº¦ï¼Œç¡®å®šå—ï¼Ÿ')) {
          prevPage('page-basic');
        }
      } else if (activePage.id === 'page-result') {
        // ç»“æœé¡µè¿”å›å¯é‡æ–°å¼€å§‹
        if (confirm('è¿”å›å°†é‡æ–°å¼€å§‹æµ‹è¯„ï¼Œç¡®å®šå—ï¼Ÿ')) {
          location.reload();
        }
      }
    }

    // æ£€æŸ¥çŸ¥æƒ…åŒæ„ä¹¦æ˜¯å¦å…¨éƒ¨å‹¾é€‰
    function checkConsentAndProceed() {
      const purpose = document.getElementById('consent-purpose').checked;
      const privacy = document.getElementById('consent-privacy').checked;
      const voluntary = document.getElementById('consent-voluntary').checked;
      const nonDiagnostic = document.getElementById('consent-non-diagnostic').checked;
      if (purpose && privacy && voluntary && nonDiagnostic) {
        nextPage('page-basic');
      } else {
        alert('è¯·å‹¾é€‰æ‰€æœ‰â€œæˆ‘ç†è§£â€é€‰é¡¹ä»¥è¡¨ç¤ºæ‚¨åŒæ„çŸ¥æƒ…åŒæ„ä¹¦çš„å†…å®¹ã€‚');
      }
    }

    // éªŒè¯åŸºæœ¬ä¿¡æ¯å¿…å¡«é¡¹
    function validateBasicInfo() {
      const ageSelected = document.querySelector('input[name="age"]:checked');
      const genderSelected = document.querySelector('input[name="gender"]:checked');
      const statusSelected = document.querySelector('input[name="relationship-status"]:checked');
      if (!ageSelected || !genderSelected || !statusSelected) {
        alert('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«é¡¹ï¼ˆå¹´é¾„æ®µã€æ€§åˆ«ã€æ‹çˆ±çŠ¶æ€ï¼‰');
        return;
      }
      userInfo.age = ageSelected.value;
      userInfo.gender = genderSelected.value;
      userInfo.zodiac = document.querySelector('input[name="zodiac"]:checked')?.value || 'unknown';
      userInfo.relationshipStatus = statusSelected.value;
      userInfo.duration = document.querySelector('input[name="relationship-duration"]:checked')?.value || '';
      nextPage('page-questions');
    }

    // æ¸²æŸ“æ‰€æœ‰é¢˜ç›®ï¼ˆå·²ç§»é™¤å¿…ç­”æ ‡ç­¾ï¼‰
    function renderQuestions() {
      const container = document.getElementById('questions-container');
      let html = '';
      let currentDim = '';
      questions.forEach((q, index) => {
        const dim = q.dim;
        if (dim !== currentDim) {
          currentDim = dim;
          html += `<div style="font-size: 14px; color: #666; margin-bottom: 12px; margin-top: 24px;">${dimensionNames[dim]}é‡è¡¨ï¼ˆè‡ªæµ‹ç‰ˆï¼‰</div>`;
          html += `<div style="font-size: 12px; color: #999; margin-bottom: 16px;">è¯„ä¼°åœ¨æ‹çˆ±å…³ç³»ä¸­å¯¹ä¼´ä¾£çš„${dimensionNames[dim]}ç¨‹åº¦</div>`;
        }
        const qNum = index + 1;
        const labels = q.type === 'degree' ? degreeLabels : freqLabels;
        html += `
          <div class="question-item" data-qindex="${index}">
            <div class="question-header">
              <span class="question-text">${qNum}. ${q.text}</span>
            </div>
            <div class="question-options">
        `;
        for (let i = 0; i < 5; i++) {
          const selectedClass = (answers[index] === i) ? 'selected' : '';
          html += `<div class="question-option ${selectedClass}" data-optindex="${i}" onclick="selectQuestionOption(this, ${index})">${labels[i]}</div>`;
        }
        html += `</div><div class="required-hint">æ­¤é¢˜ä¸ºå¿…ç­”é¢˜</div></div>`;
      });
      container.innerHTML = html;
    }

    // é€‰é¡¹ç‚¹å‡»
    window.selectQuestionOption = function(el, qIndex) {
      const parent = el.parentElement;
      parent.querySelectorAll('.question-option').forEach(opt => opt.classList.remove('selected'));
      el.classList.add('selected');
      const optIndex = parseInt(el.dataset.optindex);
      answers[qIndex] = optIndex;
      updateStats();
    };

    // æ›´æ–°ç»Ÿè®¡å¡ç‰‡å’Œè¿›åº¦æ¡
    function updateStats() {
      const answered = answers.filter(a => a !== null).length;
      const unanswered = 40 - answered;
      document.getElementById('stats-answered').innerText = answered;
      document.getElementById('stats-unanswered').innerText = unanswered;
      document.getElementById('stats-required').innerText = unanswered;
      document.getElementById('questions-completed').innerText = answered + ' / 40 å·²å®Œæˆ';
      const percent = (answered / 40) * 100;
      document.getElementById('questions-progress-fill').style.width = percent + '%';
    }

    // æäº¤æµ‹è¯„
    function submitQuestions() {
      if (answers.includes(null)) {
        alert('è¿˜æœ‰æœªå›ç­”çš„é¢˜ç›®ï¼Œè¯·å®Œæˆæ‰€æœ‰é¢˜ç›®åå†æäº¤ã€‚');
        return;
      }
      const ageEl = document.querySelector('input[name="age"]:checked');
      const genderEl = document.querySelector('input[name="gender"]:checked');
      const zodiacEl = document.querySelector('input[name="zodiac"]:checked');
      const statusEl = document.querySelector('input[name="relationship-status"]:checked');
      const durationEl = document.querySelector('input[name="relationship-duration"]:checked');

      userInfo.age = ageEl ? ageEl.value : '';
      userInfo.gender = genderEl ? genderEl.value : '';
      userInfo.zodiac = zodiacEl ? zodiacEl.value : 'unknown';
      userInfo.relationshipStatus = statusEl ? statusEl.value : '';
      userInfo.duration = durationEl ? durationEl.value : '';

      calculateResult();
    }

    // è®¡ç®—åˆ†æ•°å¹¶æ˜¾ç¤ºç»“æœé¡µ
    function calculateResult() {
      let dimScores = { C: 0, J: 0, Y: 0, G: 0 };
      for (let i = 0; i < 40; i++) {
        const dim = questions[i].dim;
        dimScores[dim] += answers[i] + 1;
      }

      const totalRaw = dimScores.C + dimScores.J + dimScores.Y + dimScores.G;
      const rpi = Math.round(((totalRaw - 40) / 160) * 100);
      let level = '';
      if (rpi < 30) level = 'å¾ˆä½ï¼ˆè‡ªç”±è‡ªåœ¨ï¼‰';
      else if (rpi < 50) level = 'ä¸­ç­‰ï¼ˆæ°åˆ°å¥½å¤„ï¼‰';
      else if (rpi < 70) level = 'è¾ƒé«˜ï¼ˆåœ¨æ„å¯¹æ–¹ï¼‰';
      else level = 'å¾ˆé«˜ï¼ˆçˆ±åˆ°æè‡´ï¼‰';

      const zC = ((dimScores.C - 30) / 10).toFixed(2);
      const zJ = ((dimScores.J - 30) / 10).toFixed(2);
      const zY = ((dimScores.Y - 30) / 10).toFixed(2);
      const zG = ((dimScores.G - 30) / 10).toFixed(2);

      let attachmentType = '', attachmentSub = '', features = [], strengths = [], challenges = [], advice = '';
      if (dimScores.C < 30 && dimScores.J < 30 && dimScores.Y < 30 && dimScores.G < 30) {
        attachmentType = 'å®‰å…¨å‹ä¾æ‹';
        attachmentSub = 'ä¸»å¯¼ç±»å‹ï¼šå®‰å…¨å‹';
        features = ['æƒ…æ„Ÿå¹³è¡¡', 'ä¿¡ä»»ä¼´ä¾£', 'èƒ½ç‹¬ç«‹ä¹Ÿèƒ½äº²å¯†', 'æ²Ÿé€šé¡ºç•…'];
        strengths = ['æƒ…ç»ªç¨³å®š', 'ç»™äºˆè‡ªç”±ç©ºé—´', 'ä¿¡ä»»æ„Ÿå¼º', 'å–„äºæ²Ÿé€š', 'è‡ªæˆ‘è°ƒèŠ‚èƒ½åŠ›å¼º'];
        challenges = ['å¯èƒ½è¢«è¯¯è§£ä¸ºä¸å¤Ÿåœ¨ä¹', 'éœ€è¦ä¸»åŠ¨è¡¨è¾¾çˆ±æ„'];
        advice = 'è®°å¾—ä¸»åŠ¨è¡¨è¾¾çˆ±å’Œå…³å¿ƒï¼Œè®©ä¼´ä¾£æ„Ÿå—åˆ°ä½ çš„é‡è§†ã€‚è‡ªç”±ä¸ç­‰äºå†·æ¼ ï¼Œé€‚åº¦çš„å…³æ³¨ä¼šè®©å…³ç³»æ›´æ¸©æš–ã€‚';
      } else if (dimScores.Y > 35 && dimScores.G > 35) {
        attachmentType = 'ç„¦è™‘å‹ä¾æ‹';
        attachmentSub = 'ä¸»å¯¼ç±»å‹ï¼šç„¦è™‘å‹';
        features = ['æåº¦ä¾èµ–', 'å®³æ€•æŠ›å¼ƒ', 'æƒ…ç»ªæ³¢åŠ¨å¤§', 'éœ€è¦é™ªä¼´'];
        strengths = ['æƒ…æ„Ÿæ•æ„Ÿç»†è…»', 'é‡è§†å…³ç³»', 'æ„¿æ„ä»˜å‡º'];
        challenges = ['è¿‡åº¦ä¾èµ–ä¼´ä¾£', 'æƒ…ç»ªæ¶ˆè€—å¤§', 'å®¹æ˜“ç„¦è™‘', 'éœ€è¦ä¸æ–­ç¡®è®¤'];
        advice = 'ç»ƒä¹ è‡ªæˆ‘å®‰æŠšï¼ŒåŸ¹å…»ç‹¬ç«‹æ€§ï¼Œå‡å°‘å¯¹ä¼´ä¾£çš„è¿‡åº¦éœ€æ±‚ã€‚å¯ä»¥å°è¯•æ­£å¿µå’Œæƒ…ç»ªæ—¥è®°ã€‚';
      } else if (dimScores.Y < 25 && dimScores.G < 25 && dimScores.C < 25) {
        attachmentType = 'å›é¿å‹ä¾æ‹';
        attachmentSub = 'ä¸»å¯¼ç±»å‹ï¼šå›é¿å‹';
        features = ['æƒ…æ„Ÿç‹¬ç«‹', 'ä¸å–œæ¬¢äº²å¯†', 'éœ€è¦ç©ºé—´', 'å‹æŠ‘æƒ…æ„Ÿ'];
        strengths = ['ç‹¬ç«‹æ€§', 'ç†æ€§å†·é™', 'è‡ªæˆ‘è°ƒèŠ‚èƒ½åŠ›å¼º', 'ç»™ä¼´ä¾£è‡ªç”±'];
        challenges = ['éš¾ä»¥å»ºç«‹æ·±åº¦äº²å¯†', 'æƒ…æ„Ÿè¡¨è¾¾å›°éš¾', 'å¯èƒ½è®©ä¼´ä¾£æ„Ÿåˆ°ç–ç¦»'];
        advice = 'å°è¯•é€æ­¥ç»ƒä¹ æƒ…æ„Ÿè¡¨è¾¾å’Œäº²å¯†æ¥è§¦ã€‚ç†è§£äº²å¯†ä¸ç­‰äºå¤±å»è‡ªæˆ‘ã€‚';
      } else {
        attachmentType = 'ææƒ§å‹ä¾æ‹ï¼ˆæ··ä¹±å‹ï¼‰';
        attachmentSub = 'ä¸»å¯¼ç±»å‹ï¼šææƒ§å‹';
        features = ['æ¸´æœ›äº²å¯†åˆå®³æ€•å—ä¼¤', 'æ—¶å¸¸åœ¨é è¿‘å’Œæ¨å¼€é—´æ‘‡æ‘†', 'ä¿¡ä»»å›°éš¾'];
        strengths = ['æ·±åˆ»ç†è§£å…³ç³»å¤æ‚æ€§', 'æœ‰æˆé•¿æ½œåŠ›'];
        challenges = ['æƒ…ç»ªçŸ›ç›¾', 'å®¹æ˜“é™·å…¥æˆå‰§åŒ–å…³ç³»', 'è‡ªæˆ‘ä»·å€¼æ„Ÿä¸ç¨³å®š'];
        advice = 'å»ºç«‹ç¨³å®šçš„ä¿¡ä»»æ„Ÿï¼Œå­¦ä¹ ä¸€è‡´çš„æƒ…æ„Ÿè¡¨è¾¾ã€‚å¿ƒç†å’¨è¯¢å¯ä»¥å¸®åŠ©æ¢ç´¢ææƒ§çš„æ ¹æºã€‚';
      }

      const zodiacMap = {
        'aries': { name: 'ç™½ç¾Šåº§', tags: ['çƒ­æƒ…å†²åŠ¨', 'å æœ‰æ¬²ç›´æ¥'], desc: 'ç™½ç¾Šåº§çš„ä½ åœ¨æ‹çˆ±ä¸­å……æ»¡çƒ­æƒ…å’Œå†²åŠ¨ï¼Œå æœ‰æ¬²è¡¨ç°ä¸ºç›´æ¥å’Œä¸»åŠ¨ã€‚ä½ å¸Œæœ›ä¼´ä¾£èƒ½è·Ÿä¸Šä½ çš„èŠ‚å¥ï¼Œæœ‰æ—¶ä¼šæ˜¾å¾—æ€¥èºã€‚', advice: 'å­¦ä¼šæ§åˆ¶å†²åŠ¨ï¼Œå¤šå€¾å¬å¯¹æ–¹çš„éœ€æ±‚ã€‚' },
        'taurus': { name: 'é‡‘ç‰›åº§', tags: ['ç¨³å®šæ‰§ç€', 'è¿½æ±‚å®‰å…¨æ„Ÿ'], desc: 'é‡‘ç‰›åº§çš„ä½ åœ¨æ‹çˆ±ä¸­ç¨³å®šè€Œæ‰§ç€ï¼Œå æœ‰æ¬²ä½“ç°åœ¨å¯¹å®‰å…¨æ„Ÿçš„è¿½æ±‚ä¸Šã€‚ä½ å¸Œæœ›å…³ç³»ç¨³å›ºï¼Œä¸å–œæ¬¢å˜åŠ¨ã€‚', advice: 'å­¦ä¼šçµæ´»å˜é€šï¼Œä¸è¦è¿‡äºå›ºæ‰§ã€‚' },
        'gemini': { name: 'åŒå­åº§', tags: ['çµæ´»å¤šå˜', 'å æœ‰æ¬²å¼±'], desc: 'åŒå­åº§çš„ä½ åœ¨æ‹çˆ±ä¸­çµæ´»å¤šå˜ï¼Œå æœ‰æ¬²è¾ƒå¼±ï¼Œä½†éœ€è¦ä¼´ä¾£æä¾›æ–°é²œæ„Ÿã€‚', advice: 'ä¿æŒå¥½å¥‡å¿ƒï¼Œä½†ä¹Ÿè¦ä¸“æ³¨ç»è¥å…³ç³»ã€‚' },
        'cancer': { name: 'å·¨èŸ¹åº§', tags: ['æƒ…æ„Ÿç»†è…»', 'æ¸´æœ›å®¶åº­'], desc: 'å·¨èŸ¹åº§çš„ä½ åœ¨æ‹çˆ±ä¸­æƒ…æ„Ÿç»†è…»ï¼Œå æœ‰æ¬²æºäºå¯¹å®¶åº­çš„æ¸´æœ›ï¼Œéœ€è¦ä¼´ä¾£ç»™äºˆè¶³å¤Ÿçš„æƒ…æ„Ÿå›åº”ã€‚', advice: 'å­¦ä¼šè¡¨è¾¾éœ€æ±‚ï¼Œä¸è¦è¿‡äºæƒ…ç»ªåŒ–ã€‚' },
        'leo': { name: 'ç‹®å­åº§', tags: ['è‡ªä¿¡çƒ­æƒ…', 'å æœ‰æ¬²å¼º', 'éœ€è¦å´‡æ‹œ'], desc: 'ç‹®å­åº§çš„ä½ åœ¨æ‹çˆ±ä¸­è‡ªä¿¡è€Œçƒ­æƒ…ï¼Œå æœ‰æ¬²å¼ºï¼Œå¸Œæœ›æˆä¸ºä¼´ä¾£çœ¼ä¸­å”¯ä¸€çš„ç„¦ç‚¹ã€‚ä½ æ…·æ…¨å¤§æ–¹ï¼Œæ„¿æ„ä¸ºçˆ±äººä»˜å‡ºä¸€åˆ‡ï¼Œä½†ä¹ŸæœŸå¾…åŒæ ·çš„é‡è§†å’Œå´‡æ‹œã€‚', advice: 'å­¦ä¼šåˆ†äº«æ³¨æ„åŠ›ï¼ŒçœŸæ­£çš„è‡ªä¿¡æ¥è‡ªå†…å¿ƒã€‚' },
        'virgo': { name: 'å¤„å¥³åº§', tags: ['è¿½æ±‚å®Œç¾', 'å…³æ³¨ç»†èŠ‚'], desc: 'å¤„å¥³åº§çš„ä½ åœ¨æ‹çˆ±ä¸­è¿½æ±‚å®Œç¾ï¼Œå æœ‰æ¬²ä½“ç°åœ¨å¯¹ç»†èŠ‚çš„å…³æ³¨ä¸Šï¼Œå¸Œæœ›ä¼´ä¾£ç¬¦åˆè‡ªå·±çš„æ ‡å‡†ã€‚', advice: 'æ¥å—ä¸å®Œç¾ï¼Œå¤šå…³æ³¨ä¼˜ç‚¹ã€‚' },
        'libra': { name: 'å¤©ç§¤åº§', tags: ['è¿½æ±‚å¹³è¡¡', 'çŠ¹è±«ä¸å†³'], desc: 'å¤©ç§¤åº§çš„ä½ åœ¨æ‹çˆ±ä¸­è¿½æ±‚å¹³è¡¡ï¼Œå æœ‰æ¬²è¾ƒå¼±ï¼Œä½†éœ€è¦ä¼´ä¾£çš„é™ªä¼´å’Œè®¤å¯ã€‚', advice: 'å­¦ä¼šæœæ–­ï¼Œä¸è¦è¿‡åº¦ä¾èµ–ä»–äººè¯„ä»·ã€‚' },
        'scorpio': { name: 'å¤©èåº§', tags: ['å æœ‰æ¬²æå¼º', 'æ·±æƒ…æ‰§ç€', 'å«‰å¦’å¿ƒé‡'], desc: 'å¤©èåº§çš„ä½ åœ¨æ‹çˆ±ä¸­å¼ºçƒˆè€Œæ·±æ²‰ï¼Œå æœ‰æ¬²æå¼ºã€‚ä½ çˆ±å¾—æ·±åˆ»è€Œä¸“ä¸€ï¼Œä¸€æ—¦çˆ±ä¸Šå°±ä¼šå…¨èº«å¿ƒæŠ•å…¥ï¼Œä¹ŸæœŸå¾…å¯¹æ–¹ç™¾åˆ†ç™¾çš„å¿ è¯šã€‚ä½ çš„å«‰å¦’å¿ƒå¾ˆé‡ï¼Œæ§åˆ¶æ¬²å¼ºï¼Œéš¾ä»¥å®¹å¿ä»»ä½•å¨èƒåˆ°å…³ç³»çš„å› ç´ ã€‚', advice: 'å­¦ä¼šä¿¡ä»»ï¼Œä¸è¦è®©å«‰å¦’å’Œæ§åˆ¶æ¯äº†çè´µçš„å…³ç³»ã€‚ä½ çš„æ·±æƒ…å¾ˆç¾ï¼Œä½†è¦ç»™å¯¹æ–¹å‘¼å¸çš„ç©ºé—´ã€‚' },
        'sagittarius': { name: 'å°„æ‰‹åº§', tags: ['çƒ­çˆ±è‡ªç”±', 'å æœ‰æ¬²ä½'], desc: 'å°„æ‰‹åº§çš„ä½ åœ¨æ‹çˆ±ä¸­çƒ­çˆ±è‡ªç”±ï¼Œå æœ‰æ¬²è¾ƒä½ï¼Œä½†å¸Œæœ›ä¼´ä¾£èƒ½ç†è§£è‡ªå·±çš„ç©ºé—´éœ€æ±‚ã€‚', advice: 'å­¦ä¼šå¹³è¡¡è‡ªç”±ä¸è´£ä»»ã€‚' },
        'capricorn': { name: 'æ‘©ç¾¯åº§', tags: ['åŠ¡å®ç¨³å®š', 'è§„åˆ’æœªæ¥'], desc: 'æ‘©ç¾¯åº§çš„ä½ åœ¨æ‹çˆ±ä¸­åŠ¡å®è€Œç¨³å®šï¼Œå æœ‰æ¬²ä½“ç°åœ¨å¯¹æœªæ¥çš„è§„åˆ’ä¸Šï¼Œå¸Œæœ›ä¼´ä¾£èƒ½å…±åŒæ‰¿æ‹…è´£ä»»ã€‚', advice: 'å­¦ä¼šè¡¨è¾¾æƒ…æ„Ÿï¼Œä¸è¦è¿‡äºä¸¥è‚ƒã€‚' },
        'aquarius': { name: 'æ°´ç“¶åº§', tags: ['ç†æ€§ç‹¬ç«‹', 'ä¸ªäººç©ºé—´'], desc: 'æ°´ç“¶åº§çš„ä½ åœ¨æ‹çˆ±ä¸­ç†æ€§è€Œç‹¬ç«‹ï¼Œå æœ‰æ¬²è¾ƒå¼±ï¼Œä½†éœ€è¦ä¼´ä¾£å°Šé‡è‡ªå·±çš„ä¸ªäººç©ºé—´ã€‚', advice: 'å­¦ä¼šæƒ…æ„Ÿäº¤æµï¼Œä¸è¦è¿‡äºç†æ€§ã€‚' },
        'pisces': { name: 'åŒé±¼åº§', tags: ['æµªæ¼«æ•æ„Ÿ', 'éœ€è¦å‘µæŠ¤'], desc: 'åŒé±¼åº§çš„ä½ åœ¨æ‹çˆ±ä¸­æµªæ¼«è€Œæ•æ„Ÿï¼Œå æœ‰æ¬²æºäºå¯¹å®‰å…¨æ„Ÿçš„æ¸´æœ›ï¼Œéœ€è¦ä¼´ä¾£çš„æ¸©æŸ”å‘µæŠ¤ã€‚', advice: 'å­¦ä¼šè‡ªæˆ‘ä¿æŠ¤ï¼Œä¸è¦è¿‡åº¦ç‰ºç‰²ã€‚' },
        'unknown': { name: 'æœªé€‰æ‹©', tags: [], desc: 'æ‚¨æœªé€‰æ‹©æ˜Ÿåº§ï¼Œæ— æ³•æä¾›æ˜Ÿåº§æ€§æ ¼å‚è€ƒã€‚', advice: '' }
      };
      const zodiac = zodiacMap[userInfo.zodiac] || zodiacMap['unknown'];

      const resultHTML = `
        <div class="result-header">
          <div class="result-icon">â¤ï¸</div>
          <h1 class="page-title">æ‹çˆ±å æœ‰æ¬²æŒ‡æ•° (RPI)</h1>
          <div class="rpi-score">${rpi}</div>
          <div class="rpi-level">${level}</div>
          <div class="rpi-bar-container">
            <div class="rpi-bar-fill" style="width: ${rpi}%;"></div>
          </div>
          <div class="rpi-labels">
            <span>0 (è‡ªç”±è‡ªåœ¨)</span>
            <span>50 (æ°åˆ°å¥½å¤„)</span>
            <span>100 (çˆ±åˆ°æè‡´)</span>
          </div>
        </div>

        <div class="card">
          <div class="result-section">
            <h3><span class="icon">â„¹ï¸</span> ç»“æœè§£é‡Š</h3>
            <p style="font-size: 14px; color: #666; line-height: 1.6;">
              ä½ çš„æ‹çˆ±å æœ‰æ¬²æŒ‡æ•°ä¸º ${rpi} åˆ†ï¼Œå¤„äºã€Œ${level}ã€æ°´å¹³ã€‚<br>
              è¿™è¡¨æ˜ä½ åœ¨æ‹çˆ±å…³ç³»ä¸­å æœ‰æ¬²${rpi < 30 ? 'è¾ƒä½ï¼Œå€¾å‘äºç»™äºˆä¼´ä¾£å……åˆ†çš„è‡ªç”±ç©ºé—´' : rpi < 50 ? 'é€‚ä¸­ï¼Œèƒ½å¹³è¡¡äº²å¯†ä¸è‡ªç”±' : rpi < 70 ? 'è¾ƒå¼ºï¼Œéœ€è¦ç•™æ„æ§åˆ¶å€¾å‘' : 'æå¼ºï¼Œå¯èƒ½å½±å“å…³ç³»è´¨é‡'}ã€‚<br>
              è¿™äº›ç‰¹ç‚¹å¯èƒ½å½±å“ä½ åœ¨æ‹çˆ±å…³ç³»ä¸­çš„è¡Œä¸ºæ¨¡å¼å’Œæƒ…æ„Ÿä½“éªŒã€‚
            </p>
          </div>

          <div class="result-section">
            <h3><span class="icon">âœˆï¸</span> ä¸ªæ€§åŒ–å»ºè®®</h3>
            <ul style="list-style: none; font-size: 14px; color: #666;">
              <li style="margin-bottom: 8px;">âœ… ä¸ä¼´ä¾£è¿›è¡Œå¼€æ”¾è¯šå®çš„æ²Ÿé€šï¼Œåˆ†äº«ä½ çš„æ„Ÿå—å’Œéœ€æ±‚ã€‚</li>
              <li style="margin-bottom: 8px;">âœ… å¦‚æœå æœ‰æ¬²å½±å“äº†å…³ç³»è´¨é‡æˆ–è®©ä½ æ„Ÿåˆ°å›°æ‰°ï¼Œå¯ä»¥è€ƒè™‘å¯»æ±‚ä¸“ä¸šæƒ…æ„Ÿå’¨è¯¢çš„å¸®åŠ©ã€‚</li>
              <li style="margin-bottom: 8px;">âœ… è®°ä½è¿™ä¸æ˜¯è¯Šæ–­å·¥å…·ï¼Œç»“æœä»…ä¾›å‚è€ƒå’Œè‡ªæˆ‘äº†è§£ã€‚</li>
            </ul>
          </div>

          <div class="result-section">
            <h3><span class="icon">ğŸ“Š</span> å››ç»´åº¦åˆ†æ</h3>
            <div class="dimension-row">
              <div class="dimension-name"><span class="icon">ğŸ¯</span> æ§åˆ¶æ¬²æœ›</div>
              <div class="dimension-bar-container">
                <div class="dimension-bar-fill" style="width: ${dimScores.C/50*100}%;"></div>
              </div>
              <div class="dimension-value">${dimScores.C} (z: ${zC})</div>
            </div>
            <div class="dimension-desc">å¯¹ä¼´ä¾£çš„æ§åˆ¶å€¾å‘å’Œç›‘æ§è¡Œä¸º</div>

            <div class="dimension-row">
              <div class="dimension-name"><span class="icon">ğŸ’”</span> å«‰å¦’å¼ºåº¦</div>
              <div class="dimension-bar-container">
                <div class="dimension-bar-fill" style="width: ${dimScores.J/50*100}%;"></div>
              </div>
              <div class="dimension-value">${dimScores.J} (z: ${zJ})</div>
            </div>
            <div class="dimension-desc">å«‰å¦’æƒ…ç»ªçš„å¼ºåº¦å’Œé¢‘ç‡</div>

            <div class="dimension-row">
              <div class="dimension-name"><span class="icon">ğŸ‘¥</span> æƒ…æ„Ÿä¾èµ–</div>
              <div class="dimension-bar-container">
                <div class="dimension-bar-fill" style="width: ${dimScores.Y/50*100}%;"></div>
              </div>
              <div class="dimension-value">${dimScores.Y} (z: ${zY})</div>
            </div>
            <div class="dimension-desc">å¯¹ä¼´ä¾£çš„æƒ…æ„Ÿä¾èµ–ç¨‹åº¦</div>

            <div class="dimension-row">
              <div class="dimension-name"><span class="icon">â­•</span> å…³ç³»ä¸å®‰</div>
              <div class="dimension-bar-container">
                <div class="dimension-bar-fill" style="width: ${dimScores.G/50*100}%;"></div>
              </div>
              <div class="dimension-value">${dimScores.G} (z: ${zG})</div>
            </div>
            <div class="dimension-desc">åœ¨å…³ç³»ä¸­çš„ä¸å®‰å…¨æ„Ÿæ°´å¹³</div>
          </div>

          <div class="result-section">
            <h3><span class="icon">ğŸ“ˆ</span> å¯è§†åŒ–åˆ†æ</h3>
            <div class="radar-container">
              <div class="radar-card">
                <div class="radar-title">æ‹çˆ±å æœ‰æ¬²é›·è¾¾å›¾</div>
                <canvas id="radar-dim" class="radar-canvas" width="250" height="250"></canvas>
                <div style="font-size: 12px; color: #999; margin-top: 8px;">Tåˆ†æ•°èŒƒå›´: 20-80, 50ä¸ºå¹³å‡æ°´å¹³</div>
              </div>
              <div class="radar-card">
                <div class="radar-title">ä¾æ‹ç±»å‹é›·è¾¾å›¾</div>
                <canvas id="radar-attach" class="radar-canvas" width="250" height="250"></canvas>
                <div style="font-size: 12px; color: #999; margin-top: 8px;">ä¸»å¯¼ç±»å‹: ${attachmentType.split('å‹')[0]}</div>
              </div>
            </div>
          </div>
        </div>

        <div class="personality-card">
          <div class="personality-icon">${attachmentType === 'å®‰å…¨å‹ä¾æ‹' ? 'ğŸ˜Š' : attachmentType === 'ç„¦è™‘å‹ä¾æ‹' ? 'ğŸ˜°' : attachmentType === 'å›é¿å‹ä¾æ‹' ? 'ğŸ˜' : 'ğŸ˜¨'}</div>
          <h2 class="personality-title">${attachmentType}</h2>
          <p class="personality-subtitle">${attachmentSub}</p>

          <div class="two-col-grid">
            <div>
              <h4 style="font-size: 14px; color: #333; margin-bottom: 8px;">æ ¸å¿ƒç‰¹å¾</h4>
              <ul class="feature-list">
                ${features.map(f => `<li>${f}</li>`).join('')}
              </ul>
            </div>
          </div>

          <div class="two-col-grid">
            <div>
              <h4 style="font-size: 14px; color: #2e7d32; margin-bottom: 8px;">ä½ çš„ä¼˜åŠ¿</h4>
              <ul class="feature-list pro-list">
                ${strengths.map(s => `<li>${s}</li>`).join('')}
              </ul>
            </div>
            <div>
              <h4 style="font-size: 14px; color: #f57c00; margin-bottom: 8px;">éœ€è¦æ³¨æ„çš„æŒ‘æˆ˜</h4>
              <ul class="feature-list con-list">
                ${challenges.map(c => `<li>${c}</li>`).join('')}
              </ul>
            </div>
          </div>

          <div class="expert-card" style="background: #fff5f7;">
            <h4><span class="icon">ğŸ’¡</span> ä¸“ä¸šå»ºè®®</h4>
            <p>${advice}</p>
          </div>
        </div>

        <div class="card">
          <h3><span class="icon">ğŸ”—</span> æ‹çˆ±å æœ‰æ¬²å½±å“è·¯å¾„</h3>
          <p style="font-size: 14px; color: #666; margin-bottom: 12px;">äº†è§£å æœ‰æ¬²å¦‚ä½•é€šè¿‡å¿ƒç†æœºåˆ¶å½±å“å…³ç³»çš„å„ä¸ªæ–¹é¢</p>
          <div class="path-matrix">
            <div class="path-col">
              <h5>å æœ‰æ¬²4ç»´åº¦</h5>
              <div class="path-item ${dimScores.C > 35 ? 'high' : dimScores.C > 25 ? 'medium' : 'low'}">æ§åˆ¶æ¬²æœ› (${dimScores.C})</div>
              <div class="path-item ${dimScores.J > 35 ? 'high' : dimScores.J > 25 ? 'medium' : 'low'}">å«‰å¦’å¼ºåº¦ (${dimScores.J})</div>
              <div class="path-item ${dimScores.Y > 35 ? 'high' : dimScores.Y > 25 ? 'medium' : 'low'}">æƒ…æ„Ÿä¾èµ– (${dimScores.Y})</div>
              <div class="path-item ${dimScores.G > 35 ? 'high' : dimScores.G > 25 ? 'medium' : 'low'}">å…³ç³»ä¸å®‰ (${dimScores.G})</div>
            </div>
            <div class="path-col">
              <h5>å¿ƒç†å½±å“æœºåˆ¶</h5>
              <div class="path-item ${(dimScores.C+dimScores.J)/2 > 30 ? 'high' : 'low'}">ä¾æ‹æ¨¡å¼</div>
              <div class="path-item ${(dimScores.G+dimScores.Y)/2 > 30 ? 'high' : 'low'}">ä¿¡ä»»èƒ½åŠ›</div>
              <div class="path-item ${dimScores.G > 30 ? 'high' : 'low'}">è‡ªæˆ‘ä»·å€¼</div>
              <div class="path-item ${dimScores.C > 30 ? 'high' : 'low'}">è¾¹ç•Œæ„è¯†</div>
              <div class="path-item ${dimScores.Y > 30 ? 'high' : 'low'}">æƒ…ç»ªè°ƒèŠ‚</div>
              <div class="path-item ${dimScores.G > 30 ? 'high' : 'low'}">å®‰å…¨æ„Ÿ</div>
            </div>
            <div class="path-col">
              <h5>å…³ç³»è¡¨ç°é¢†åŸŸ</h5>
              <div class="path-item ${dimScores.C > 30 ? 'high' : 'low'}">æ²Ÿé€šè´¨é‡</div>
              <div class="path-item ${(dimScores.J+dimScores.G)/2 > 30 ? 'high' : 'low'}">å†²çªå¤„ç†</div>
              <div class="path-item ${dimScores.Y > 30 ? 'high' : 'low'}">äº²å¯†ç¨‹åº¦</div>
              <div class="path-item ${dimScores.C > 30 ? 'high' : 'low'}">ä¸ªäººç©ºé—´</div>
              <div class="path-item ${dimScores.G > 30 ? 'high' : 'low'}">å…³ç³»æ»¡æ„</div>
              <div class="path-item ${dimScores.G > 30 ? 'high' : 'low'}">ä¿¡ä»»æ°´å¹³</div>
            </div>
          </div>
          <div style="font-size: 12px; color: #999; text-align: center; margin-top: 8px;">
            é¢œè‰²æ·±æµ…è¡¨ç¤ºå½±å“å¼ºåº¦ï¼ˆçº¢è‰²é«˜ï¼Œé»„è‰²ä¸­ï¼Œè“è‰²ä½ï¼‰
          </div>

          <h3 style="margin-top: 24px;"><span class="icon">ğŸ“</span> é‡è¡¨è¯¦ç»†åˆ†æ•°</h3>
          <div style="margin-bottom: 12px;">
            <div style="display: flex; justify-content: space-between; font-size: 14px; color: #333;">
              <span>æ§åˆ¶æ¬²æœ›é‡è¡¨ï¼ˆè‡ªæµ‹ç‰ˆï¼‰</span>
              <span><strong>${dimScores.C}</strong> <span style="font-size: 12px; color: #999;">Zåˆ†æ•°: ${zC}</span></span>
            </div>
            <div style="font-size: 12px; color: #999;">è¯„ä¼°åœ¨æ‹çˆ±å…³ç³»ä¸­å¯¹ä¼´ä¾£çš„æ§åˆ¶æ¬²æœ›ç¨‹åº¦</div>
          </div>
          <div style="margin-bottom: 12px;">
            <div style="display: flex; justify-content: space-between; font-size: 14px; color: #333;">
              <span>å«‰å¦’å¼ºåº¦é‡è¡¨ï¼ˆè‡ªæµ‹ç‰ˆï¼‰</span>
              <span><strong>${dimScores.J}</strong> <span style="font-size: 12px; color: #999;">Zåˆ†æ•°: ${zJ}</span></span>
            </div>
            <div style="font-size: 12px; color: #999;">æµ‹é‡åœ¨æ‹çˆ±å…³ç³»ä¸­çš„å«‰å¦’æƒ…ç»ªå¼ºåº¦</div>
          </div>
          <div style="margin-bottom: 12px;">
            <div style="display: flex; justify-content: space-between; font-size: 14px; color: #333;">
              <span>æƒ…æ„Ÿä¾èµ–é‡è¡¨ï¼ˆè‡ªæµ‹ç‰ˆï¼‰</span>
              <span><strong>${dimScores.Y}</strong> <span style="font-size: 12px; color: #999;">Zåˆ†æ•°: ${zY}</span></span>
            </div>
            <div style="font-size: 12px; color: #999;">è¯„ä¼°åœ¨æ‹çˆ±å…³ç³»ä¸­å¯¹ä¼´ä¾£çš„æƒ…æ„Ÿä¾èµ–ç¨‹åº¦</div>
          </div>
          <div>
            <div style="display: flex; justify-content: space-between; font-size: 14px; color: #333;">
              <span>å…³ç³»ä¸å®‰å…¨æ„Ÿé‡è¡¨ï¼ˆè‡ªæµ‹ç‰ˆï¼‰</span>
              <span><strong>${dimScores.G}</strong> <span style="font-size: 12px; color: #999;">Zåˆ†æ•°: ${zG}</span></span>
            </div>
            <div style="font-size: 12px; color: #999;">æµ‹é‡åœ¨æ‹çˆ±å…³ç³»ä¸­çš„ä¸å®‰å…¨æ„Ÿå’Œç„¦è™‘</div>
          </div>
        </div>

        <div class="card">
          <h3><span class="icon">â¤ï¸</span> çˆ±æƒ…å¿ƒç†å­¦ä¸“å®¶å»ºè®®</h3>

          <div class="expert-card">
            <h4><span class="icon">ğŸ‘¥</span> æƒ…æ„Ÿç‹¬ç«‹æˆé•¿</h4>
            <p>${dimScores.Y > 35 ? 'ä½ å¯¹ä¼´ä¾£çš„æƒ…æ„Ÿä¾èµ–ç¨‹åº¦è¾ƒé«˜ã€‚å¥åº·çš„å…³ç³»éœ€è¦ä¸¤ä¸ªå®Œæ•´çš„ä¸ªä½“ã€‚å»ºè®®ï¼šâ‘ åŸ¹å…»ç‹¬ç«‹çš„å…´è¶£å’Œæœ‹å‹åœˆï¼Œä¸°å¯Œä½ çš„ç”Ÿæ´»ï¼›â‘¡ç»ƒä¹ ç‹¬å¤„ï¼Œå­¦ä¼šäº«å—ä¸€ä¸ªäººçš„æ—¶å…‰ï¼›â‘¢å»ºç«‹å¤šå…ƒçš„æƒ…æ„Ÿæ”¯æŒç³»ç»Ÿï¼ˆæœ‹å‹ã€å®¶äººï¼‰ï¼Œä¸è¦åªä¾èµ–ä¼´ä¾£ï¼›â‘£æå‡è‡ªæˆ‘ä»·å€¼æ„Ÿï¼Œä¸è¦å°†è‡ªæˆ‘å®Œæ•´æ€§å¯„æ‰˜åœ¨å…³ç³»ä¸Šï¼›â‘¤å­¦ä¹ æƒ…ç»ªè‡ªæˆ‘è°ƒèŠ‚ï¼Œä¸è¿‡åº¦ä¾èµ–ä¼´ä¾£å®‰æ…°ã€‚' : 'ä½ çš„æƒ…æ„Ÿä¾èµ–ç¨‹åº¦é€‚ä¸­ï¼Œèƒ½ä¿æŒè¾ƒå¥½çš„ç‹¬ç«‹æ€§ã€‚ç»§ç»­ä¿æŒï¼ŒåŒæ—¶ä¹Ÿè¦æ³¨æ„åœ¨éœ€è¦æ—¶å‘ä¼´ä¾£å¯»æ±‚æ”¯æŒã€‚'}</p>
          </div>

          <div class="expert-card">
            <h4><span class="icon">ğŸ›¡ï¸</span> å…³ç³»å®‰å…¨å»ºç«‹</h4>
            <p>${dimScores.G > 35 ? 'ä½ åœ¨å…³ç³»ä¸­å­˜åœ¨è¾ƒå¼ºçš„ä¸å®‰å…¨æ„Ÿã€‚è¿™å¯èƒ½æºäºç„¦è™‘å‹ä¾æ‹æˆ–è¿‡å¾€åˆ›ä¼¤ã€‚å»ºè®®ï¼šâ‘ æ¢ç´¢ä¸å®‰å…¨æ„Ÿçš„æ ¹æºï¼›â‘¡æŒ‘æˆ˜è´Ÿé¢ä¿¡å¿µï¼Œåˆ—ä¸¾è‡ªå·±çš„ä¼˜ç‚¹ï¼›â‘¢ç»ƒä¹ æ­£å¿µå’Œè‡ªæˆ‘å…³æ€€ï¼›â‘£ä¸ä¼´ä¾£å¼€æ”¾æ²Ÿé€šä¸å®‰å…¨æ„Ÿï¼›â‘¤å¿…è¦æ—¶å¯»æ±‚å¿ƒç†å’¨è¯¢ã€‚' : 'ä½ çš„å…³ç³»å®‰å…¨æ„Ÿè¾ƒå¥½ï¼Œè¿™æ˜¯å¥åº·å…³ç³»çš„åŸºç¡€ã€‚ç»§ç»­ç»´æŠ¤ä¿¡ä»»ï¼ŒåŒæ—¶ä¹Ÿè¦å…³æ³¨ä¼´ä¾£çš„å®‰å…¨æ„Ÿéœ€æ±‚ã€‚'}</p>
          </div>

          <div class="expert-card">
            <h4><span class="icon">ğŸ¯</span> æ§åˆ¶æ¬²æœ›ç®¡ç†</h4>
            <p>${dimScores.C > 35 ? 'ä½ è¡¨ç°å‡ºè¾ƒé«˜çš„æ§åˆ¶å€¾å‘ã€‚å¿ƒç†å­¦ç ”ç©¶è¡¨æ˜ï¼Œè¿‡åº¦æ§åˆ¶å¾€å¾€æºäºå†…å¿ƒçš„ä¸å®‰å…¨æ„Ÿã€‚å»ºè®®ï¼šâ‘ åæ€æ§åˆ¶æ¬²çš„æ ¹æºï¼›â‘¡å­¦ä¹ ä¿¡ä»»çš„è‰ºæœ¯ï¼Œç»™äºˆä¼´ä¾£é€‚å½“çš„è‡ªç”±ç©ºé—´ï¼›â‘¢ç”¨å¼€æ”¾å¯¹è¯æ›¿ä»£ç›‘æ§ï¼Œè¡¨è¾¾éœ€æ±‚è€Œéæ§åˆ¶è¡Œä¸ºï¼›â‘£åŸ¹å…»è‡ªå·±çš„å…´è¶£çˆ±å¥½ï¼Œå»ºç«‹ç‹¬ç«‹çš„ç”Ÿæ´»åœˆå­ã€‚' : 'ä½ çš„æ§åˆ¶æ¬²é€‚ä¸­ï¼Œèƒ½å°Šé‡ä¼´ä¾£çš„è‡ªä¸»æ€§ã€‚ç»§ç»­ä¿æŒå¥åº·çš„è¾¹ç•Œã€‚'}</p>
          </div>

          <h3 style="margin-top: 24px;"><span class="icon">ğŸ“š</span> å¥åº·å…³ç³»å…»æˆæŒ‡å—</h3>
          <div class="two-col-grid">
            <div>
              <h4 style="font-size: 14px; color: #0066cc; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;"><span>ğŸ”µ</span> å»ºç«‹ä¿¡ä»»çš„å…³é”®</h4>
              <ul style="font-size: 13px; color: #666; list-style: none; padding-left: 0;">
                <li style="margin-bottom: 4px;">â€¢ ä¿æŒè¨€è¡Œä¸€è‡´ï¼Œè¯´åˆ°åšåˆ°</li>
                <li style="margin-bottom: 4px;">â€¢ å¼€æ”¾é€æ˜çš„æ²Ÿé€šï¼Œä¸éšç’é‡è¦äº‹æƒ…</li>
                <li style="margin-bottom: 4px;">â€¢ å°Šé‡æ‰¿è¯ºï¼Œé‡è§†å¯¹æ–¹çš„æ„Ÿå—</li>
                <li>â€¢ ç»™äºˆç¨³å®šçš„å…³æ³¨å’Œå›åº”</li>
              </ul>
            </div>
            <div>
              <h4 style="font-size: 14px; color: #0066cc; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;"><span>ğŸ”µ</span> å¹³è¡¡ç‹¬ç«‹ä¸äº²å¯†</h4>
              <ul style="font-size: 13px; color: #666; list-style: none; padding-left: 0;">
                <li style="margin-bottom: 4px;">â€¢ ä¿æŒä¸ªäººæˆé•¿ï¼Œä¸å¤±å»è‡ªæˆ‘</li>
                <li style="margin-bottom: 4px;">â€¢ å°Šé‡å½¼æ­¤çš„ç§äººç©ºé—´å’Œæ—¶é—´</li>
                <li style="margin-bottom: 4px;">â€¢ å»ºç«‹å¥åº·çš„å…³ç³»è¾¹ç•Œ</li>
                <li>â€¢ é¼“åŠ±å¯¹æ–¹çš„ä¸ªäººå‘å±•</li>
              </ul>
            </div>
          </div>

          <h3 style="margin-top: 24px;"><span class="icon">ğŸ“š</span> æ¨èå­¦ä¹ èµ„æº</h3>
          <div class="resource-grid">
            <div class="resource-card">
              <h5>æ¨èä¹¦ç±</h5>
              <ul style="list-style: none; padding: 0; font-size: 12px;">
                <li>â€¢ ã€Šä¾æ‹ç†è®ºã€‹- Bowlby</li>
                <li>â€¢ ã€Šäº²å¯†å…³ç³»ã€‹- Rowland Miller</li>
                <li>â€¢ ã€Šçˆ±çš„äº”ç§è¯­è¨€ã€‹- Gary Chapman</li>
              </ul>
            </div>
            <div class="resource-card">
              <h5>åœ¨çº¿è¯¾ç¨‹</h5>
              <ul style="list-style: none; padding: 0; font-size: 12px;">
                <li>â€¢ äº²å¯†å…³ç³»å¿ƒç†å­¦</li>
                <li>â€¢ æƒ…ç»ªç®¡ç†ä¸æ²Ÿé€šæŠ€å·§</li>
                <li>â€¢ ä¾æ‹ç±»å‹ä¸å…³ç³»æ¨¡å¼</li>
              </ul>
            </div>
            <div class="resource-card">
              <h5>ä¸“ä¸šæ”¯æŒ</h5>
              <ul style="list-style: none; padding: 0; font-size: 12px;">
                <li>â€¢ æƒ…æ„Ÿå¿ƒç†å’¨è¯¢</li>
                <li>â€¢ ä¼´ä¾£å…³ç³»æ²»ç–—</li>
                <li>â€¢ ä¾æ‹ä¿®å¤å·¥ä½œåŠ</li>
              </ul>
            </div>
          </div>

          <div class="zodiac-card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
              <h4 style="font-size: 16px; color: #333; display: flex; align-items: center; gap: 8px;"><span class="icon">â­</span> æ˜Ÿåº§æ€§æ ¼å‚è€ƒ <span style="font-size: 12px; color: #999; background: #fff; padding: 2px 6px; border-radius: 4px;">ä»…ä¾›å¨±ä¹</span></h4>
            </div>
            <div class="zodiac-tags">
              <span class="zodiac-tag">${zodiac.name}</span>
              ${zodiac.tags.map(t => `<span class="zodiac-tag">${t}</span>`).join('')}
            </div>
            <h4 style="font-size: 14px; color: #9f7aea; margin: 12px 0;">${zodiac.name}åœ¨æ‹çˆ±ä¸­çš„ç‰¹ç‚¹</h4>
            <p style="font-size: 14px; color: #666; line-height: 1.6;">${zodiac.desc}</p>
            <h4 style="font-size: 14px; color: #333; margin: 16px 0 8px;">ç»™ä½ çš„æ˜Ÿåº§å»ºè®®</h4>
            <p style="font-size: 14px; color: #666;">${zodiac.advice}</p>
            <div style="font-size: 12px; color: #999; margin-top: 16px; padding-top: 12px; border-top: 1px solid #f0e6e9;">
              ç‰¹åˆ«è¯´æ˜ï¼šæ˜Ÿåº§æ€§æ ¼å­¦æ²¡æœ‰ç§‘å­¦ä¾æ®ï¼Œä»¥ä¸Šå†…å®¹åŸºäºæµè¡Œæ–‡åŒ–å’Œæ˜Ÿåº§å­¦ä¼ ç»Ÿï¼Œçº¯å±å¨±ä¹å‚è€ƒï¼Œä¸ä»£è¡¨ä»»ä½•ç§‘å­¦ç»“è®ºã€‚ä½ çš„RPIè¯„ä¼°åˆ†æ•°å®Œå…¨åŸºäºå¿ƒç†å­¦ç†è®ºå’Œå®é™…å›ç­”ï¼Œä¸æ˜Ÿåº§æ— å…³ã€‚æ¯ä¸ªäººéƒ½æ˜¯ç‹¬ç‰¹çš„ä¸ªä½“ï¼Œä¸åº”è¢«æ˜Ÿåº§æ ‡ç­¾æ‰€é™åˆ¶ã€‚
            </div>
          </div>

          <div class="footer-info">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <div>
                <div>è¯„ä¼°ç±»å‹ï¼šç»™è‡ªå·±æµ‹</div>
                <div>å›ç­”é¢˜æ•°ï¼š40 é¢˜</div>
              </div>
              <div>
                <div>å®Œæˆæ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}</div>
                <div>ä¼šè¯IDï¼šsession_${Math.random().toString(36).substr(2,12)}</div>
              </div>
            </div>
            <div style="background: #fff8e1; padding: 12px; border-radius: 4px; margin-top: 16px;">
              <h4 style="font-size: 14px; color: #f57c00; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;"><span class="icon">â„¹ï¸</span> é‡è¦å£°æ˜</h4>
              <p style="font-size: 13px; color: #666;">
                æœ¬æµ‹è¯„ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆä¸“ä¸šè¯Šæ–­ã€‚RPIæŒ‡æ•°æ˜¯åŸºäºå¿ƒç†å­¦ç ”ç©¶çš„æµ‹è¯„å·¥å…·ï¼Œæ—¨åœ¨å¸®åŠ©ä½ äº†è§£æ‹çˆ±å…³ç³»ä¸­çš„å æœ‰æ¬²ç‰¹ç‚¹ã€‚å¦‚æœä½ å¯¹ç»“æœæœ‰ç–‘é—®æˆ–é‡åˆ°ä¸¥é‡å…³ç³»é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘å’¨è¯¢ä¸“ä¸šçš„å¿ƒç†å’¨è¯¢å¸ˆæˆ–æƒ…æ„Ÿå’¨è¯¢å¸ˆã€‚<br>
                æ‚¨çš„æ‰€æœ‰æ•°æ®éƒ½å®‰å…¨åœ°ä¿å­˜åœ¨æœ¬åœ°è®¾å¤‡ä¸Šï¼Œæˆ‘ä»¬ä¸ä¼šæ”¶é›†æˆ–ä¼ è¾“æ‚¨çš„ä¸ªäººä¿¡æ¯ã€‚
              </p>
            </div>
          </div>

          <div class="btn-group" style="margin-top: 24px;">
            <button class="btn btn-secondary" onclick="window.location.reload()">è¿”å›é¦–é¡µ</button>
            <button class="btn btn-secondary" onclick="window.location.reload()">é‡æ–°æµ‹è¯„</button>
            <!-- ç§»é™¤äº†åˆ†äº«ç»“æœæŒ‰é’® -->
          </div>
        </div>
      `;

      document.getElementById('page-result').innerHTML = resultHTML;
      nextPage('page-result');

      setTimeout(() => {
        drawRadar('radar-dim', [dimScores.C/50, dimScores.J/50, dimScores.Y/50, dimScores.G/50], ['æ§åˆ¶', 'å«‰å¦’', 'ä¾èµ–', 'ä¸å®‰']);
        const safe = Math.max(0, 1 - (dimScores.C + dimScores.J + dimScores.Y + dimScores.G) / 200);
        const anxious = Math.min(1, (dimScores.Y + dimScores.G) / 100);
        const avoid = Math.min(1, (dimScores.C + dimScores.J) / 100);
        const fear = Math.min(1, (dimScores.C + dimScores.J + dimScores.Y + dimScores.G) / 150);
        drawRadar('radar-attach', [safe, anxious, avoid, fear], ['å®‰å…¨å‹', 'ç„¦è™‘å‹', 'å›é¿å‹', 'ææƒ§å‹']);
      }, 50);
    }

    function drawRadar(canvasId, values, labels) {
      const canvas = document.getElementById(canvasId);
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      const w = 250, h = 250;
      ctx.clearRect(0, 0, w, h);
      const centerX = w/2, centerY = h/2;
      const radius = 70;
      const angles = [0, Math.PI/2, Math.PI, 3*Math.PI/2];

      // ç”»ç½‘æ ¼
      ctx.strokeStyle = '#ddd';
      ctx.lineWidth = 1;
      for (let level = 0.2; level <= 1; level += 0.2) {
        ctx.beginPath();
        for (let i = 0; i < angles.length; i++) {
          const x = centerX + radius * level * Math.cos(angles[i]);
          const y = centerY + radius * level * Math.sin(angles[i]);
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.closePath();
        ctx.strokeStyle = '#eee';
        ctx.stroke();
      }

      // ç”»æ•°æ®
      ctx.beginPath();
      for (let i = 0; i < values.length; i++) {
        const x = centerX + radius * values[i] * Math.cos(angles[i]);
        const y = centerY + radius * values[i] * Math.sin(angles[i]);
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.closePath();
      ctx.fillStyle = 'rgba(159, 122, 234, 0.3)';
      ctx.fill();
      ctx.strokeStyle = '#9f7aea';
      ctx.lineWidth = 2;
      ctx.stroke();

      // ç”»æ ‡ç­¾
      ctx.fillStyle = '#666';
      ctx.font = '12px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      const labelRadius = radius + 20;
      for (let i = 0; i < labels.length; i++) {
        const x = centerX + labelRadius * Math.cos(angles[i]);
        const y = centerY + labelRadius * Math.sin(angles[i]);
        ctx.fillText(labels[i], x, y);
      }
    }

    function shareResult() {
      alert('åˆ†äº«åŠŸèƒ½å·²è§¦å‘ï¼Œå¯åœ¨æ­¤å¤„å®ç°åˆ†äº«é€»è¾‘');
    }

    window.onload = function() {};
  </script>
</body>
</html>